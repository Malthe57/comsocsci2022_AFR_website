<!doctype html><html lang=en><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><title>Network analysis | Amazon Food Reviews</title><script src=https://cdn.tailwindcss.com></script><script src=https://unpkg.com/feather-icons></script><script src=https://cdn.jsdelivr.net/npm/feather-icons/dist/feather.min.js></script><script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script><script id=MathJax-script async src=https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js></script><style type=text/tailwindcss>
    @layer base {
        body {
          @apply bg-gray-100;
          @apply font-sans;
          @apply leading-normal;
          @apply tracking-normal;
        }
        p {
          @apply py-6;
        }
        a {
          @apply text-green-500;
          @apply no-underline;
          @apply hover:underline;
        }
        h1 {
          @apply py-2;
          @apply font-sans;
          @apply text-2xl;
        }
        h2 {
          @apply py-2;
          @apply font-sans;
          @apply text-xl;
        }
        h3 {
          @apply py-2;
          @apply font-sans;
          @apply text-lg;
        }
        ol {
          @apply px-8;
          @apply list-decimal;
        }
        ul {
          @apply px-8;
          @apply list-disc;
        }
        blockquote {
          @apply border-l-4; 
          @apply border-green-500;
          @apply italic;
          @apply my-8;
          @apply pl-8;
          @apply md:pl-12;
        }
        pre {
          @apply bg-gray-900;
          @apply rounded;
          @apply text-white; 
          @apply font-mono;
          @apply text-base;
          @apply my-4;
          @apply p-2;
          @apply md:p-4;
        }
        table {
          @apply shadow-md;
          @apply rounded-lg;
          @apply m-auto;
          @apply my-8;
        }
        thead {
          @apply bg-gray-50;
        }
        th {
          @apply py-3;
          @apply px-6;
          @apply text-xs;
          @apply font-medium;
          @apply tracking-wider;
          @apply text-left;
          @apply text-gray-700;
          @apply uppercase;
        }
        tr {
          @apply bg-white;
          @apply border-b;
        }
        td {
          @apply py-4;
          @apply px-6;
          @apply text-sm;
          @apply font-medium;
          @apply text-gray-900;
          @apply whitespace-nowrap;
        }
        img {
          @apply m-auto;
          @apply object-cover;
        }
        .footer-icon {
          width: 64px; 
          height: 64px;
          @apply mx-4;
        }
      }
    </style></head><body><nav id=header class="fixed w-full z-10 top-0"><div id=progress class="h-1 z-20 top-0" style="background:linear-gradient(to right,#4dc0b5 var(--scroll),transparent 0)"></div><div class="w-full md:max-w-4xl mx-auto flex flex-wrap items-center justify-between mt-0 py-3"><div class=pl-4><a class="text-gray-900 text-base no-underline hover:no-underline font-extrabold text-xl" href=https://malthe57.github.io/comsocsci2022_AFR_website/>Amazon Food Reviews</a></div><div class="block lg:hidden pr-4"><button id=nav-toggle class="flex items-center px-3 py-2 border rounded text-gray-500 border-gray-600 hover:text-gray-900 hover:border-green-500 appearance-none focus:outline-none"><svg class="fill-current h-3 w-3" viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><title>Menu</title><path d="M0 3h20v2H0V3zm0 6h20v2H0V9zm0 6h20v2H0v-2z"/></svg></button></div><div class="w-full flex-grow lg:flex lg:items-center lg:w-auto hidden lg:block mt-2 lg:mt-0 bg-gray-100 md:bg-transparent z-20" id=nav-content><ul class="list-reset lg:flex justify-end flex-1 items-center list-none px-0"><li><a class="inline-block py-2 px-4 text-gray-900 no-underline" href=../data-description>Data</a></li><li><a class="inline-block py-2 px-4 text-gray-900 no-underline" href=../network-analysis>Network</a></li><li><a class="inline-block py-2 px-4 text-gray-900 no-underline" href=../text-analysis>Text</a></li></ul></div></div></nav><div class="container w-full md:max-w-3xl mx-auto pt-20"><div class="w-full px-4 md:px-6 text-xl text-gray-800 leading-normal" style=font-family:Georgia,serif><div class=font-sans><h1 class="font-bold font-sans break-normal text-gray-900 pt-6 pb-2 text-3xl md:text-4xl">Network analysis</h1></div><p>We created and investigated two networks: One for the reviewer and one for the products.</p><h1 id=b-reviewer-network-b><b>Reviewer network</b></h1><p>The goal is to identify the so-called super users on Amazon; users who especially active and write many reviews on Amazon.</p><p>The review network consists of 14,681 nodes and 4,228,404 edges. Due to the sheer size of the network, it is only possible to visualise a subset. The subset consists of reviewers for 500 unique, randomly sampled products, so the resulting network has a total of 5,773 nodes and 229,767 edges.
<img src=../images/reviewer_network.png width=1400>
From the graph, we have identified some nodes with highest degree (largest nodes) which we can look further into:</p><style type=text/css>.tg{border-collapse:collapse;border-spacing:0}.tg td{border-color:#000;border-style:solid;border-width:1px;font-family:Arial,sans-serif;font-size:14px;overflow:hidden;padding:10px 5px;word-break:normal}.tg th{border-color:#000;border-style:solid;border-width:1px;font-family:Arial,sans-serif;font-size:14px;font-weight:400;overflow:hidden;padding:10px 5px;word-break:normal}.tg .tg-c3ow{border-color:inherit;text-align:center;vertical-align:top}.tg .tg-nbj5{background-color:#fff;border-color:inherit;text-align:center;vertical-align:top}.tg .tg-7btt{border-color:inherit;font-weight:700;text-align:center;vertical-align:top}.tg .tg-i45s{background-color:#f5f5f5;border-color:inherit;text-align:center;vertical-align:middle}.tg .tg-t1ow{background-color:#f5f5f5;border-color:inherit;text-align:center;vertical-align:top}.tg .tg-rcip{background-color:#fff;border-color:inherit;text-align:center;vertical-align:middle}</style><table class=tg><caption>Table 1:</caption><thead><tr><th class=tg-7btt>Reviewer</th><th class=tg-7btt>Reviewer name</th><th class=tg-7btt>Number of reviews</th><th class=tg-c3ow><span style=font-weight:700>Node degree</span></th></tr></thead><tbody><tr><td class=tg-i45s>A1ZH9LWMX5UCFJ</td><td class=tg-i45s>K. Stuckey "kateling"</td><td class=tg-t1ow>82</td><td class=tg-c3ow>3178</td></tr><tr><td class=tg-rcip>AYNAH993VDECT</td><td class=tg-rcip>bsg2004</td><td class=tg-nbj5>75</td><td class=tg-c3ow>3701</td></tr><tr><td class=tg-i45s>A1P2XYD265YE21</td><td class=tg-i45s>Andrea "Readaholic"</td><td class=tg-t1ow>67</td><td class=tg-c3ow>3629</td></tr><tr><td class=tg-c3ow>AAA0TUKS5VBSA</td><td class=tg-c3ow>Nerd Alert</td><td class=tg-c3ow>149</td><td class=tg-c3ow>4012</td></tr></tbody></table><p>The table below shows the reviewers with the top 10 most reviews.</p><style type=text/css>.tg{border-collapse:collapse;border-spacing:0}.tg td{border-color:#000;border-style:solid;border-width:1px;font-family:Arial,sans-serif;font-size:14px;overflow:hidden;padding:10px 5px;word-break:normal}.tg th{border-color:#000;border-style:solid;border-width:1px;font-family:Arial,sans-serif;font-size:14px;font-weight:400;overflow:hidden;padding:10px 5px;word-break:normal}.tg .tg-9ak0{background-color:#fff;border-color:#000;color:#333;font-weight:700;text-align:center;vertical-align:top}.tg .tg-mums{background-color:#fff;border-color:#000;font-weight:700;text-align:center;vertical-align:top}.tg .tg-jbyd{background-color:#fff;border-color:#000;text-align:center;vertical-align:top}.tg .tg-vhtn{background-color:#fff;border-color:#000;text-align:center;vertical-align:middle}</style><table class=tg><thead><tr><th class=tg-9ak0>Reviewer</th><th class=tg-mums>Reviewer name</th><th class=tg-mums>Number of reviews</th></tr></thead><tbody><tr><td class=tg-jbyd>A3OXHLG6DIBRW8</td><td class=tg-jbyd>C. Hill "CFH"</td><td class=tg-vhtn>204</td></tr><tr><td class=tg-jbyd>AY12DBB0U420B</td><td class=tg-jbyd>Gary Peterson</td><td class=tg-vhtn>180</td></tr><tr><td class=tg-jbyd>A2XKJ1KX6XUHYP</td><td class=tg-jbyd>NYFB</td><td class=tg-vhtn>177</td></tr><tr><td class=tg-jbyd>A1UQBFCERIP7VJ</td><td class=tg-jbyd>Margaret Picky</td><td class=tg-vhtn>156</td></tr><tr><td class=tg-jbyd>AAA0TUKS5VBSA</td><td class=tg-jbyd>Nerd Alert</td><td class=tg-vhtn>149</td></tr><tr><td class=tg-jbyd>A2MNB77YGJ3CN0</td><td class=tg-jbyd>L. Mountford</td><td class=tg-vhtn>145</td></tr><tr><td class=tg-jbyd>A1Z54EM24Y40LL</td><td class=tg-jbyd>csm</td><td class=tg-vhtn>141</td></tr><tr><td class=tg-jbyd>A25C2M3QF9G7OQ</td><td class=tg-jbyd>Comdet</td><td class=tg-vhtn>140</td></tr><tr><td class=tg-jbyd>A2YKWYC3WQJX5J</td><td class=tg-jbyd>Shannon Lastowski "Queen of Caffeine"</td><td class=tg-vhtn>132</td></tr><tr><td class=tg-jbyd>AKMEY1BSHSDG7</td><td class=tg-jbyd>J. Arena</td><td class=tg-vhtn>127</td></tr></tbody></table><p>It is worth noting that among the identified users with the highest node degree, only one of them (Nerd Alert) is among the users with the top 10 most reviews. However, keep in mind that the network has an edge between two nodes if they have reviewed the same product. This means if a product has been reviewed by many people, then the users who have reviewed that product will have many edges.</p><p>Below we have a table for the four identified reviewers + the top 3 reviewers. For each reviewer, the number of reviews, node degree, and the average number of reviews on the products they have reviewed (average review score) are presented.</p><style type=text/css>.tg{border-collapse:collapse;border-spacing:0}.tg td{border-color:#000;border-style:solid;border-width:1px;font-family:Arial,sans-serif;font-size:14px;overflow:hidden;padding:10px 5px;word-break:normal}.tg th{border-color:#000;border-style:solid;border-width:1px;font-family:Arial,sans-serif;font-size:14px;font-weight:400;overflow:hidden;padding:10px 5px;word-break:normal}.tg .tg-mums{background-color:#fff;border-color:#000;font-weight:700;text-align:center;vertical-align:top}.tg .tg-vhtn{background-color:#fff;border-color:#000;text-align:center;vertical-align:middle}.tg .tg-jbyd{background-color:#fff;border-color:#000;text-align:center;vertical-align:top}</style><table class=tg><thead><tr><th class=tg-mums>Reviewer</th><th class=tg-mums>Reviewer name</th><th class=tg-mums>Number of reviews</th><th class=tg-mums>Node degree</th><th class=tg-mums>Average review score</th></tr></thead><tbody><tr><td class=tg-vhtn>A1ZH9LWMX5UCFJ</td><td class=tg-vhtn>K. Stuckey "kateling"</td><td class=tg-jbyd>82</td><td class=tg-jbyd>3178</td><td class=tg-jbyd>74.3780487804878</td></tr><tr><td class=tg-vhtn>AYNAH993VDECT</td><td class=tg-vhtn>bsg2004</td><td class=tg-jbyd>75</td><td class=tg-jbyd>3701</td><td class=tg-jbyd>183.17333333333335</td></tr><tr><td class=tg-vhtn>A1P2XYD265YE21</td><td class=tg-vhtn>Andrea "Readaholic"</td><td class=tg-jbyd>67</td><td class=tg-jbyd>3629</td><td class=tg-jbyd>165.37313432835822</td></tr><tr><td class=tg-jbyd>AAA0TUKS5VBSA</td><td class=tg-jbyd>Nerd Alert</td><td class=tg-jbyd>149</td><td class=tg-jbyd>4012</td><td class=tg-jbyd>126.63087248322148</td></tr><tr><td class=tg-jbyd>A3OXHLG6DIBRW8</td><td class=tg-jbyd>C. Hill "CFH"</td><td class=tg-jbyd>204</td><td class=tg-jbyd>5155</td><td class=tg-jbyd>74.06862745098039</td></tr><tr><td class=tg-jbyd>AY12DBB0U420B</td><td class=tg-jbyd>Gary Peterson</td><td class=tg-jbyd>180</td><td class=tg-jbyd>2789</td><td class=tg-jbyd>20.13888888888889</td></tr><tr><td class=tg-jbyd>A2XKJ1KX6XUHYP</td><td class=tg-jbyd>NYFB</td><td class=tg-vhtn>177</td><td class=tg-jbyd>2374</td><td class=tg-jbyd>19.073446327683616</td></tr></tbody></table><p>The user with the highest number of reviews and node degree is C. Hill &ldquo;CFH&rdquo;. However, writing many reviews does not equate to having a high node degree. For instance, the user &ldquo;Gary Peterson&rdquo; has written the second most reviews with 180, yet only have a node degree of 2,374. Comparatively, another user, &ldquo;bsg2004&rdquo; have only written 75 reviews, but have a much higher node degree of 3,701. Based on the average review score, we see that even though the users &ldquo;Gary Peterson&rdquo; and &ldquo;NYFB&rdquo; have written many reviews, the products that they review are not commonly reviewed by others.</p><p>In conclusion, the reviewer network can be useful to identify some super users. However, the number of times a product has been reviewed needs to be accounted for, since it has a major impact on the node degree.</p><h2 id=b-random-network-b><b>Random network</b></h2><p>The reviewer network is an example of a real-world network constructed using real data. We would like to construct a random network that have some of the same properties as the reviewer network, and then compare them. The random network consists of the same number of nodes, and with a probability p=0.0392, an edge is established between two independent nodes. Some summary statistics of the two networks are listed below in the table below.</p><style type=text/css>.tg{border-collapse:collapse;border-spacing:0}.tg td{border-color:#000;border-style:solid;border-width:1px;font-family:Arial,sans-serif;font-size:14px;overflow:hidden;padding:10px 5px;word-break:normal}.tg th{border-color:#000;border-style:solid;border-width:1px;font-family:Arial,sans-serif;font-size:14px;font-weight:400;overflow:hidden;padding:10px 5px;word-break:normal}.tg .tg-9ak0{background-color:#fff;border-color:#000;color:#333;font-weight:700;text-align:center;vertical-align:top}.tg .tg-tgze{background-color:#fff;border-color:#000;font-weight:700;text-align:left;vertical-align:top}.tg .tg-mums{background-color:#fff;border-color:#000;font-weight:700;text-align:center;vertical-align:top}.tg .tg-jbyd{background-color:#fff;border-color:#000;text-align:center;vertical-align:top}.tg .tg-vhtn{background-color:#fff;border-color:#000;text-align:center;vertical-align:middle}</style><table class=tg><thead><tr><th class=tg-9ak0></th><th class=tg-mums>Reviewer network</th><th class=tg-mums>Random network</th></tr></thead><tbody><tr><td class=tg-jbyd><span style=font-weight:700>Nodes</span></td><td class=tg-jbyd>14,681</td><td class=tg-vhtn>14,681</td></tr><tr><td class=tg-jbyd><span style=font-weight:700>Edges</span></td><td class=tg-jbyd>4,228,404</td><td class=tg-vhtn>4,229,033</td></tr><tr><td class=tg-jbyd><span style=font-weight:700>Min. degree</span></td><td class=tg-jbyd>8</td><td class=tg-vhtn>492</td></tr><tr><td class=tg-jbyd><span style=font-weight:700>Max. degree</span></td><td class=tg-jbyd>5155</td><td class=tg-vhtn>673</td></tr><tr><td class=tg-tgze>Mean degree</td><td class=tg-jbyd>576.038</td><td class=tg-jbyd>576.12</td></tr><tr><td class=tg-tgze>Median degree</td><td class=tg-jbyd>312</td><td class=tg-jbyd>576</td></tr></tbody></table><p>We can look at the degree distributions of the two networks.</p><div class=row><div class=column><img src=../images/review_distribution.png alt=Snow style=width:100%></div><div class=column><img src=../images/random_distribution.png alt=Forest style=width:100%></div></div>Both networks have around the same average degree, but their distributions vary. The degree distribution for the reviewer network is much more spread out, with degrees ranging from 8 to 5155, and skewed towards the left, indicating that smaller degrees are the most frequent. This is reflected in the median degree of the reviewer network, which is much lower than median degree of the random network.<p>For both networks we can compute the average clustering coefficient, which is a measure of the degree to which nodes tend to cluster together. According to Barabási<sup id=fnref:1><a href=#fn:1 class=footnote-ref role=doc-noteref>1</a></sup>, one would expect a real-life network with N nodes and L edges to have much higher clustering coefficients than a random network of similar size. The average clustering coefficient for the reviewer network is x, while the average clustering coefficient for the random network is y. As expected, the reviewer network has a much higher average clustering coefficient than the random network!</p><h1 id=bproduct-networkb><b>Product network</b></h1><h1 id=network-analysis>Network Analysis</h1><p>As mentioned in the <a href=data-description>Data description</a>, each product has a list of related products that would be recommended to a user if they were to look at the product on Amazon. Additionally, each product also has the attribute &ldquo;Categories&rdquo;. We hypothesise that this category attribute can be used to make a partitioning of the products. The products will be nodes in a network, and an edge between the nodes means that one product is a related product to the other. Only products with other category tags than &ldquo;Grocery & Gourmet Food&rdquo; were used in the network, so that every note does not belong to the same group.</p><p><img src=../images/network_cats_tags.png alt></p><p>The colors represent different categories or groups in the partitioning. The plots have circles some nodes which belong to the categories they represent.</p><p>We can take a closer look at some of the products in the network:</p><p>One of the more interesting areas is the island containing the product &ldquo;B0033HGLTG&rdquo; among others. This particular product is a coffee pad, and thus has the category &ldquo;Beverages&rdquo;. Interestingly, the product &ldquo;B009GCXEW4&rdquo; is not a beverage, while all of its connected nodes appear to be. This product is in the category &ldquo;Gourmet Gifts&rdquo; category, and is a coffee pod holder. So while it is very related to the other products on the island, it is not in the same category. This phenomenon shows that related products are not nescessarily of the same category, which will weaken the communities in the network.</p><p>We now calculate the modularity of the Category partitioning. The modularity is a measure for the quality of a partitioning, with a high number being good.</p><p>The modularity for the category partitioning is 0.4696 rounded to 4 decimals. This value indicates that the category is a decent partitioning, about on par with what we expected it to be. However, by using the Louvain algorithm to find a partitioning we can get a sense of how well the category partitioning actually did.</p><p>The Louvain partitioning has a modularity of 0.7591 rounded to 4 decimals.</p><p>We would expect it to find better communities than the category partitioning since the modularity is bigger.
We visualize the network to see:</p><p><img src=../images/358louvain.png alt></p><p>The most obvious difference is in the presence of nodes like &ldquo;B009GCXEW4&rdquo; which is connected to a cluster of mostly &ldquo;Beverages&rdquo; category products, but has a different category itself. The absence of these kind of nodes raises the modality of the partitioning. Another impactful change is within the center of the graph, where the nodes have been more cleanly split into groups, compared to the original graph where nodes with the &ldquo;Beverages&rdquo; category and the &ldquo;Cooking & Baking&rdquo; category were shuffled together.</p><p>It is quite clear that there is some overlap between communities in the two partitionings. As such, we want to make a confusion matrix to see which Louvain groups contain which categories.</p><p><img src=../images/confusion358.png alt></p><p>Making a confusion matrix for the two partitionings yeilds this somewhat incomprehensible table, since the Louvain split has 69 bins. This is due to the singleton nodes(the nodes that are not connected with any other nodes) each having their own group. Since singleton nodes are not particularly interesting for community analysis, and since they do not affect the modularity of a partitioning, the next step is to remove them all.</p><p>After doing this we get the following network for the category partitioning:</p><p><img src=../images/306.png alt></p><p>There are no changes to the communities(except the colors, which do not matter) with connections. As stated earlier the modularity does not change, since it only takes into account nodes that have edges.</p><p>The louvain partitioning network looks like this:</p><p><img src=../images/306louvain.png alt></p><p>And with that we can create a more readable confusion matrix:</p><p><img src=../images/confusion306.png alt></p><p>Some of the large categories like &ldquo;Cooking & Baking&rdquo; are separated into multiple communities in the louvain split. This is likely due to them being shuffled in &ldquo;Canned&rdquo; and &ldquo;Beverages&rdquo; in the most dense areas of the network. Since the louvain split jsut wants the most interconnected communities, it makes sense that these categories would not stay intact. Conversely, the baby food category is all contained in a single Louvain community. This is due to it already being isolated in the category partitioning. In the Louvain partitioning, the baby food product now share community with 2 &ldquo;Beverage&rdquo; products and a &ldquo;Canned&rdquo; product. Likewise, there is also a &ldquo;Beverage&rdquo; island contained in Louvain community 14, with a single &ldquo;Gourmet Gifts&rdquo; product and a single &ldquo;Candy & Chocolate&rdquo; product.</p><section class=footnotes role=doc-endnotes><hr><ol><li id=fn:1 role=doc-endnote><p><a href=http://networksciencebook.com/chapter/3#clustering-3-9>http://networksciencebook.com/chapter/3#clustering-3-9</a>&#160;<a href=#fnref:1 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li></ol></section><hr class="border-b-2 border-gray-400 mt-8 mx-4"><div class="font-sans flex justify-between content-center px-4 pb-12"><div class=text-left><p><a href=../data-description class="break-normal text-base md:text-sm text-green-500 font-bold no-underline hover:underline">&lt;
Previous Page</a></p></div><div class=text-right><p><a href=../text-analysis class="break-normal text-base md:text-sm text-green-500 font-bold no-underline hover:underline">Next
Page ></a></p></div></div></div></div><footer class="bg-white border-t border-gray-400 shadow"><div class="container max-w-4xl mx-auto flex py-8"><div class="w-full mx-auto flex flex-col"><div class="flex w-full"><div class="px-8 mx-auto"><ul class="pt-3 list-none px-0 flex"><li><a class="text-gray-600 no-underline py-2" href=../explainer-notebook.html><i data-feather=file-text class=footer-icon></i></a></li><li><a class="text-gray-600 no-underline py-2" href=https://github.com/Malthe57/comsocsci2022_AFR_website><i data-feather=github class=footer-icon></i></a></li><li><a class="text-gray-600 no-underline py-2" href=http://jmcauley.ucsd.edu/data/amazon/links.html><i data-feather=hard-drive class=footer-icon></i></a></li></ul></div></div><div class="w-full mx-auto text-center"><ul class="list-reset items-center text-md py-6 list-none flex"><li class=mx-auto><p class="inline-block text-gray-600 mx-4 font-semibold capitalized">Malthe Dohm Andersen</p></li><li class=mx-auto><p class="inline-block text-gray-600 mx-4 font-semibold capitalized">Yucheng Fu</p></li><li class=mx-auto><p class="inline-block text-gray-600 mx-4 font-semibold capitalized">Andreas Høst</p></li></ul></div></div></div></footer><script>var h=document.documentElement,b=document.body,st='scrollTop',sh='scrollHeight',progress=document.querySelector('#progress'),scrollpos=window.scrollY,header=document.getElementById("header"),navcontent=document.getElementById("nav-content"),scroll;document.addEventListener('scroll',function(){scroll=(h[st]||b[st])/((h[sh]||b[sh])-h.clientHeight)*100,progress.style.setProperty('--scroll',scroll+'%'),scrollpos=window.scrollY,scrollpos>10?(header.classList.add("bg-white"),header.classList.add("shadow"),navcontent.classList.remove("bg-gray-100"),navcontent.classList.add("bg-white")):(header.classList.remove("bg-white"),header.classList.remove("shadow"),navcontent.classList.remove("bg-white"),navcontent.classList.add("bg-gray-100"))}),document.getElementById('nav-toggle').onclick=function(){document.getElementById("nav-content").classList.toggle("hidden")},feather.replace()</script></body></html>